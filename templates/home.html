<!DOCTYPE html>
<html>
<head>
	<link rel = "stylesheet" href = "{{url_for('static', filename='home_style.css')}}">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<script>
        function displayLoginTime() {
            const now = new Date();
            const options = {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: true
            };
            const currentTime= now.toLocaleString('en-US', options);
            document.getElementById('loginTime').textContent = `Your login time: ${currentTime}`;
			const previousLoginTime = localStorage.getItem('previousLoginTime');
            if(previousLoginTime){
                document.getElementById('previousLoginTime').textContent = `Previous login time: ${previousLoginTime}`;
            }
            localStorage.setItem('previousLoginTime', currentTime);
        }
        window.onload = displayLoginTime;
    </script>
</head>
<body>
	<h1>Home</h1>
	<h2>Login success, welcome</h2>
	<div id="Time">
		<p id="loginTime"></p>
		<p id="previousLoginTime"></p>
	</div>
	<div class="grid-container">
		<a id="charger_preview" href="charger.html" target="mainframe" class="preview item1">
			<div>
			<table>
				<tr><th>Charger</th></tr>
				<tr><td>Power:</td></tr>
				<tr><td>{{chpower}}</td></tr>
				<tr><td>Status:</td></tr>
				<tr><td>{{chargingStatus}}</td></tr>
			</table>
			</div>
		</a>
		<a id="human_preview" href="human_motion.html" target="mainframe" class="preview item2">
			<div>
			<table>
				<tr><th>Human Motion</th></tr>
				<tr><td>Human Activity:</td></tr>
				<tr><td>{{ispresence}}</td></tr>
			</table>
			</div>
		</a>
		<a id="water_preview" href="water.html" target="mainframe" class="preview item3">
			<div>
			<table>
				<tr><th>Water Leakage</th></tr>
				<tr><td>Water Leak:</td></tr>
				<tr><td>{{isleak}}</td></tr>
			</table>
			</div>
		</a>
	</div>
	<div class="grid-container">
		<a id="temphumid_preview" href="temp_humid.html" target="mainframe" class="preview">
			<div>
			<table class="w3-container">
				<tr><th>Temperature/Humidity</th></tr>
				<tr><td>Temperature(Â°C):</td></tr>
				<tr class="w3-light-grey">
					<td class="w3-red">{{temperature}}</td>
				</tr>
				<tr><td>Humidity(%):</td></tr>
				<tr class="w3-light-grey">
					<td class="w3-green">{{humidity}}</td>
				</tr>
			</table>
			</div>
		</a>
	</div>
</body>
</html>
