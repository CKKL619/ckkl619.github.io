<!DOCTYPE html>
<html>
<head>
	<link rel = "stylesheet" href = "{{url_for('static', filename='home_style.css')}}">
	<script>
        function displayLoginTime() {
            const now = new Date();
            const options = {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: true
            };
            const currentTime= now.toLocaleString('en-US', options);
            document.getElementById('loginTime').textContent = `Your login time: ${currentTime}`;
			const previousLoginTime = localStorage.getItem('previousLoginTime');
            if(previousLoginTime){
                document.getElementById('previousLoginTime').textContent = `Previous login time: ${previousLoginTime}`;
            }
            localStorage.setItem('previousLoginTime', currentTime);
        }
        window.onload = displayLoginTime;
    </script>
</head>
<body>
	<h1>Home</h1>
	<h2>Login success, welcome</h2>
	<div id="Time">
		<p id="loginTime"></p>
		<p id="previousLoginTime"></p>
	</div>
	<div class="grid-container">
		<a id="charger_preview" href="charger.html" target="mainframe" class="preview item1">
			<div>
			<table>
				<tr><th>Charger</th></tr>
				<tr><td>Power: {{power}}</td></tr>
				<tr><td>Status: {{chargingStatus}}</td></tr>
			</table>
			</div>
		</a>
		<a id="human_preview" href="human_motion.html" target="mainframe" class="preview item2">
			<div>
			<table>
				<tr><th>Human Motion</th></tr>
				<tr><td>Power: {{power}}</td></tr>
				<tr><td>Human Activity: {{ispresence}}</td></tr>
			</table>
			</div>
		</a>
		<a id="temphumid_preview" href="temp_humid.html" target="mainframe" class="preview item3">
			<div>
			<table>
				<tr><th>Temperature/Humidity</th></tr>
				<tr><td>Power: {{power}}</td></tr>
				<tr><td>Temperature: {{temperature}}</td></tr>
				<tr><td>Humidity: {{humidity}}</td></tr>
			</table>
			</div>
		</a>
		<a id="water_preview" href="water.html" target="mainframe" class="preview item4">
			<div>
			<table>
				<tr><th>Water Leakage</th></tr>
				<tr><td>Power: {{power}}</td></tr>
				<tr><td>Water Leak: {{isleak}}</td></tr>
			</table>
			</div>
		</a>
	</div>
	<div class="grid-container">
		<a href="charger.html" target="mainframe" class="shortcut item1">
			<img src="Charger.jpg" alt="Charger">
		</a>
		<a href="human_motion.html" target="mainframe" class="shortcut item2">
			<img src="Human_motion.jpg" alt="Human Motion">
		</a>
		<a href="temp_humid.html" target="mainframe" class="shortcut item3">
			<img src="Temp_humid.jpg" alt="Temperature/Humidity">
		</a>
		<a href="water.html" target="mainframe" class="shortcut item4">
			<img src="Water_leak.jpg" alt="Water Leakage">
		</a>
	</div>
</body>
</html>
